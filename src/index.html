<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<!--<link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">-->
		<link rel="stylesheet" href="./css/animate.css" />
		<link rel="stylesheet" href="./css/index.css" />
	</head>

	<body>
		<!--顶部注册登录-->
		<header>

		</header>

		<!--购物车-->
		<div class="gou-cart" style="right: 0;">
			<div class="whole">
				<div class="bearImg">
					<img src="css/img/bearCart.png" width="100%" />
				</div>
				<div class="cart-nav">
					<div class="cart-nav-list">
						<ul>
							<li>
								<a href="#" id="userBtn" class="aStair">
									<i class="account"></i>
								</a>
							</li>
							<li class="cart-i">
								<a href="#" class="message_list aStair on" id="shopCartLayerBtn">
									<i id="collectBox" class="message"></i>
									<div class="span">
										购物车
									</div>
									<span class="cart_num" id="GQuantity">0</span>
								</a>
							</li>
						</ul>
					</div>
					<div class="cart-nav-list bot">
						<ul>
							<li class="kf">
								<a href="#" class="aStair" style="cursor: default;" class="aStair">
									<i class="wxi"></i>
								</a>
								<div class="span aStair">客户经理</div>
								<a href="#"><i class="servi"></i></a>
								<div class="span aStair">客服</div>
								<div class="txt-pro aStair" style="bottom: 0px; width: 0px; left: 0px;overflow: hidden;">
									<p>
										<span class="LoginBefore" style="">
											<a class="tactuslogin" href="javascript:;"><em class="e2">登录</em></a>
											<span class="beforeTit"><em></em></span>
										<span class="beforeTip"><em></em></span>
										<img width="315" style="width:185.555px" src="css/img/360截图16230324404942.png" alt="" />
										</span>
									</p>

									<div class="tactus">
										<a href="#" id="kfLink" style="width: 165.555px;">联系客服</a>
									</div>
								</div>
							</li>
							<li>
								<a href="#">
									<i class="collection"></i>
								</a>
								<div class="txt-pro aStair" style="top: 0px; width: 0px; left: 0px; overflow: hidden;">
									<a href="#">我的收藏</a>
								</div>
							</li>
							<li>
								<a href="#">
									<i class="view"></i>
								</a>
								<div class="txt-pro aStair" style="top: 0px; width: 0px; left: 0px; overflow: hidden;">
									<a href="#">浏览历史</a>
								</div>
							</li>
							<li class="payTo">
								<a href="#" class="aStair">
									<i class="payto"></i>
								</a>
								<div class="module-pro aStair" style="top: -47.5px; width: 0px; left: 0px; overflow: hidden;position: absolute;">
									<div class="noneCon" style="padding: 0;">
										<img src="css/img/kASE5wkAWOMPY2Cqn9e-r-.jpg" alt="" />
									</div>
								</div>
							</li>
							<li>
								<a href="#" class="aStair">
									<i class="feedicon"></i>
								</a>
								<div class="txt-pro aStair" style="top: 0px; width: 0px; left: 0px; overflow: hidden;">
									<a href="#">反馈</a>
								</div>
							</li>
							<li id="backTop">
								<a href="javascript:;" class="aStair"><i class="backTop">
								<img src="css/img/backTop.png" width="35" height="35"></i> </a>
							</li>
						</ul>
					</div>
				</div>
			</div>
			<div class="cart-main-list" id="cart-main-list" style="top: 0;">
				<div class="shopcar" style="display: block;">
					<div class="nopublic">
						<div class="nothing">
							<div class="noicon"></div>
							喔，亲，您还没有添加过任何商品哦！
							<a href="/" target="_blank">去逛逛</a>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!--底部-->
		<div class="footer" id="footer">

		</div>
	</body>
	<script src="./js/jquery-3.2.1.js"></script>
	<script>
		jQuery(function($) {

			//载入footer 和 header
			$('header').load('./html/common_header.html', function() {
				console.log(777)

				//顶部hover效果
				$('.rg').on('mouseenter', '.mygou', function() {
					console.log(666)
					$(this).addClass('on').find('.noneCon').stop().slideDown(500);
				}).on('mouseleave', '.mygou', function() {
					let self = $(this);
					$(this).find('.noneCon').stop().slideUp(500, function() {
						self.removeClass('on')
					})
				})

				//异步请求，从后端获取数据
				$.ajax({
					type: "get",
					url: "http://localhost:5277/src/api/index_menuBox.php",
					async: true,
					dataType: 'json',
					success: function(res) {
						console.log(res)
						let $ul = $('#ul-cont');

						$ul.html(res.map(function(item) {
							return `
								<li>
									<i class="nav-icon ${item.bg} "></i>
									<h3>
										<a href="#">
											${item.h3}
										</a>
									</h3>
									<p>
										<a href="#">${item.type1}</a>
										<a href="#">${item.type2}</a>
										<a href="#">${item.type3}</a>
									</p>
								</li>
							`
						}).join(''));

						let $menuCon = $('#menuCon');

						$menuCon.html(res.map(function(item) {

							return `
								<div class="sub-pannel" style="display: none; opacity: 0.5; left: 170px;">
									
								</div>
							`
						}).join(''))

						$('.sub-pannel').html('<div class="nelBox"></div>');

						$('.nelBox').html(res.map(function(item, id) {
							console.log(item.boxData.p1.strong)
							return `
									<p>
										${item.boxData.p1.strong}
									</p>
								`
						}).join(''));

						console.log($('.nelBox'))
					}
				});

			})
			$('#footer').load('./html/common_footer.html', function() {

			})

		})
	</script>
	<script>
		jQuery(function($) {
			var t_or_f = true;

			$('.gou-cart').on('click', '#shopCartLayerBtn', function() {
				if(t_or_f === true) {
					$('.gou-cart').stop().animate({
						right: -280
					});
					t_or_f = false;
				} else if(t_or_f === false) {
					$('.gou-cart').stop().animate({
						right: 0
					});
					t_or_f = true;
				}
			})

			$('.bot').on('mouseenter', 'li', function() {
				if(!$(this).hasClass('')) {
					$(this).last().find('div').stop().animate({
						width: 240,
						left: -240
					});
				}else{
					$(this).find('div').stop().animate({
						width: 80,
						left: -80
					});
				}
			}).on('mouseleave', 'li', function() {
				$(this).find('div').stop().animate({
					width: 0,
					left: 0
				});
			})
		})
	</script>

</html>